{"version":3,"sources":["..\\..\\..\\..\\assets\\scripts/assets\\scripts\\Player.js"],"names":["cc","Class","extends","Component","properties","moveDownDuration","moveDuration","onLoad","start","moveDown","postion","callback","target","node","runAction","sequence","moveTo","callFunc","move","animation","getComponent","Animation","animState","play","speed","wrapMode","WrapMode","Loop","repeatCount","Infinity","finishAction","stop","dispatchEvent","Event","EventCustom","moveBy","moveAndFail","getFooterPostion","v2","x","y","height"],"mappings":";;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,0BAAmB,CADX;AAERC,sBAAe;AAFP,KAHP;;AAQL;;AAEAC,UAVK,oBAUK;;AAKN;AACH,KAhBI;AAkBLC,SAlBK,mBAkBI,CAER,CApBI;;;AAsBL;;AAEAC,cAAW,kBAASC,OAAT,EAAiBC,QAAjB,EAA0BC,MAA1B,EAAkC;AACzC,aAAKC,IAAL,CAAUC,SAAV,CAAoBd,GAAGe,QAAH,CAAY,IAAIf,GAAGgB,MAAP,CAAc,KAAKX,gBAAnB,EAAqCK,OAArC,CAAZ,EAA0DV,GAAGiB,QAAH,CAAYN,QAAZ,EAAqBC,MAArB,CAA1D,CAApB;AACH,KA1BI;;AA4BLM,UAAO,cAASR,OAAT,EAAkB;;AAErB,YAAIS,YAAY,KAAKC,YAAL,CAAkBpB,GAAGqB,SAArB,CAAhB;AACA,YAAIC,YAAYH,UAAUI,IAAV,CAAe,YAAf,CAAhB;;AAEAD,kBAAUE,KAAV,GAAkB,EAAlB;AACAF,kBAAUG,QAAV,GAAqBzB,GAAG0B,QAAH,CAAYC,IAAjC;AACAL,kBAAUM,WAAV,GAAwBC,QAAxB;;AAEA,YAAIC,eAAe9B,GAAGiB,QAAH,CAAY,YAAY;;AAEvCK,sBAAUS,IAAV;AACA,iBAAKlB,IAAL,CAAUmB,aAAV,CAAyB,IAAIhC,GAAGiC,KAAH,CAASC,WAAb,CAAyB,gBAAzB,EAA2C,IAA3C,CAAzB;AAEH,SALkB,EAKjB,IALiB,EAKZZ,SALY,CAAnB;;AAOA,eAAO,KAAKT,IAAL,CAAUC,SAAV,CAAoBd,GAAGe,QAAH,CAAY,IAAIf,GAAGmC,MAAP,CAAc,KAAK7B,YAAnB,EAAiCI,OAAjC,CAAZ,EAAsDoB,YAAtD,CAApB,CAAP;AACH,KA7CI;;AA+CLM,iBAAc,qBAAS1B,OAAT,EAAkB;AAC5B;AACA,YAAIoB,eAAe9B,GAAGiB,QAAH,CAAY,YAAY;AACxC,iBAAKJ,IAAL,CAAUmB,aAAV,CAAyB,IAAIhC,GAAGiC,KAAH,CAASC,WAAb,CAAyB,UAAzB,EAAqC,IAArC,CAAzB;AACH,SAFmB,EAElB,IAFkB,CAAnB;;AAID,aAAKrB,IAAL,CAAUC,SAAV,CAAoBd,GAAGe,QAAH,CAAY,IAAIf,GAAGmC,MAAP,CAAc,KAAK7B,YAAnB,EAAiCI,OAAjC,CAAZ,EAAsDoB,YAAtD,CAApB;AACH,KAtDK;;AAwDNO,sBAAmB,4BAAW;AACzB,eAAOrC,GAAGsC,EAAH,CAAM,KAAKzB,IAAL,CAAU0B,CAAhB,EAAkB,KAAK1B,IAAL,CAAU2B,CAAV,GAAY,KAAK3B,IAAL,CAAU4B,MAAV,GAAiB,CAA/C,CAAP;AACJ;;AA1DK,CAAT","file":"Player.js","sourceRoot":"..\\..\\..\\..\\assets\\scripts","sourcesContent":["// Learn cc.Class:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/class.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/class.html\r\n// Learn Attribute:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/life-cycle-callbacks.html\r\n\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        moveDownDuration : 1,\r\n        moveDuration : 1,\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    onLoad () {\r\n   \r\n              \r\n        \r\n\r\n        // this.node.runAction(cc.rotateBy(0.1,30));\r\n    },\r\n\r\n    start () {\r\n\r\n    },\r\n\r\n    // update (dt) {},\r\n\r\n    moveDown : function(postion,callback,target) {\r\n        this.node.runAction(cc.sequence(new cc.moveTo(this.moveDownDuration, postion),cc.callFunc(callback,target)));  \r\n    },\r\n\r\n    move : function(postion) {\r\n\r\n        var animation = this.getComponent(cc.Animation);\r\n        var animState = animation.play(\"playermove\");\r\n\r\n        animState.speed = 10;    \r\n        animState.wrapMode = cc.WrapMode.Loop;\r\n        animState.repeatCount = Infinity;\r\n\r\n        var finishAction = cc.callFunc(function () {           \r\n            \r\n            animState.stop();\r\n            this.node.dispatchEvent( new cc.Event.EventCustom('playerMoveOver', true));\r\n\r\n        },this,animState);\r\n\r\n        return this.node.runAction(cc.sequence(new cc.moveBy(this.moveDuration, postion),finishAction));\r\n    },  \r\n\r\n    moveAndFail : function(postion) {\r\n        //移动结束\r\n        var finishAction = cc.callFunc(function () {\r\n           this.node.dispatchEvent( new cc.Event.EventCustom('gameOver', true));\r\n       },this);\r\n\r\n       this.node.runAction(cc.sequence(new cc.moveBy(this.moveDuration, postion),finishAction));  \r\n   },\r\n\r\n   getFooterPostion : function() {\r\n        return cc.v2(this.node.x,this.node.y-this.node.height/2);\r\n   }\r\n    \r\n\r\n});\r\n"]}