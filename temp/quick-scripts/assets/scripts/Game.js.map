{"version":3,"sources":["Game.js"],"names":["cc","Class","extends","Component","properties","stickPrefab","default","type","Prefab","fingerPrefab","onLoad","manager","director","getCollisionManager","enabled","node","on","Node","EventType","TOUCH_START","onTouchStart","spawnFinger","v2","event","console","log","stopPropagation","start","isValid","stick","getLocation","spawnStick","getComponent","rotate","postion","instantiate","addChild","x","width","y","height","setPosition","finger","moveUp"],"mappings":";;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;;AAERC,qBAAa;AACTC,qBAAS,IADA;AAETC,kBAAMP,GAAGQ;AAFA,SAFL;;AAORC,sBAAc;AACVH,qBAAS,IADC;AAEVC,kBAAMP,GAAGQ;AAFC;;AAPN,KAHP;;AAiBL;;AAEAE,UAnBK,oBAmBK;;AAEN,YAAIC,UAAUX,GAAGY,QAAH,CAAYC,mBAAZ,EAAd;AACAF,gBAAQG,OAAR,GAAkB,IAAlB;AACA;;AAEA,aAAKC,IAAL,CAAUC,EAAV,CAAahB,GAAGiB,IAAH,CAAQC,SAAR,CAAkBC,WAA/B,EAA4C,KAAKC,YAAjD,EAA+D,IAA/D;;AAEA,aAAKC,WAAL,CAAiBrB,GAAGsB,EAAH,CAAM,CAAN,EAAQ,CAAR,CAAjB;;AAEA,aAAKP,IAAL,CAAUC,EAAV,CAAa,UAAb,EAAyB,UAAUO,KAAV,EAAiB;AACtCC,oBAAQC,GAAR,CAAY,2CAAZ;AACAF,kBAAMG,eAAN;AACH,SAHD;AAIH,KAjCI;AAmCLC,SAnCK,mBAmCI,CAER,CArCI;;;AAuCLP,kBAAc,sBAASG,KAAT,EAAgB;;AAE1B,YAAG,CAACvB,GAAG4B,OAAH,CAAW,KAAKC,KAAhB,CAAJ,EAA4B;;AAExBL,oBAAQC,GAAR,CAAYF,MAAMO,WAAN,EAAZ;AACA,iBAAKC,UAAL,CAAgBR,MAAMO,WAAN,EAAhB;AAEH,SALD,MAKO;;AAEH,iBAAKD,KAAL,CAAWG,YAAX,CAAwB,OAAxB,EAAiCC,MAAjC;AACH;;AAEDT,gBAAQC,GAAR,CAAYF,KAAZ;AACH,KApDI;;AAsDL;;AAEAQ,gBAAY,oBAASG,OAAT,EAAkB;AAC1B;AACA,aAAKL,KAAL,GAAa7B,GAAGmC,WAAH,CAAe,KAAK9B,WAApB,CAAb;AACA;AACA,aAAKU,IAAL,CAAUqB,QAAV,CAAmB,KAAKP,KAAxB;AACA;;AAEAK,gBAAQG,CAAR,IAAa,KAAKtB,IAAL,CAAUuB,KAAV,GAAgB,CAA7B;AACAJ,gBAAQK,CAAR,IAAa,KAAKxB,IAAL,CAAUyB,MAAV,GAAiB,CAA9B;;AAEA,aAAKX,KAAL,CAAWY,WAAX,CAAuBP,OAAvB;AACH,KAnEI;;AAqELb,iBAAa,qBAASa,OAAT,EAAkB;;AAE3B,aAAKQ,MAAL,GAAc1C,GAAGmC,WAAH,CAAe,KAAK1B,YAApB,CAAd;AACA,aAAKM,IAAL,CAAUqB,QAAV,CAAmB,KAAKM,MAAxB;;AAEAR,gBAAQG,CAAR,IAAa,KAAKtB,IAAL,CAAUuB,KAAV,GAAgB,CAAhB,GAAkB,KAAKI,MAAL,CAAYJ,KAAZ,GAAkB,CAAjD;AACAJ,gBAAQK,CAAR,IAAa,KAAKxB,IAAL,CAAUyB,MAAV,GAAiB,CAAjB,GAAmB,KAAKE,MAAL,CAAYF,MAAZ,GAAmB,CAAnD;;AAEA,aAAKE,MAAL,CAAYD,WAAZ,CAAwBP,OAAxB;;AAEA,aAAKQ,MAAL,CAAYV,YAAZ,CAAyB,QAAzB,EAAmCW,MAAnC;AACH;AAhFI,CAAT","file":"Game.js","sourceRoot":"..\\..\\..\\..\\assets\\scripts","sourcesContent":["// Learn cc.Class:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/class.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/class.html\r\n// Learn Attribute:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/life-cycle-callbacks.html\r\n\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n\r\n        stickPrefab: {\r\n            default: null,\r\n            type: cc.Prefab       \r\n        },\r\n\r\n        fingerPrefab: {\r\n            default: null,\r\n            type: cc.Prefab       \r\n        },\r\n        \r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    onLoad () {\r\n\r\n        var manager = cc.director.getCollisionManager();\r\n        manager.enabled = true;\r\n        // manager.enabledDebugDraw = true;\r\n\r\n        this.node.on(cc.Node.EventType.TOUCH_START, this.onTouchStart, this);\r\n        \r\n        this.spawnFinger(cc.v2(0,0));\r\n\r\n        this.node.on('gameover', function (event) {\r\n            console.log('gameover.................................');\r\n            event.stopPropagation();\r\n        });\r\n    },\r\n\r\n    start () {\r\n\r\n    },\r\n\r\n    onTouchStart: function(event) {\r\n\r\n        if(!cc.isValid(this.stick)) {        \r\n\r\n            console.log(event.getLocation());\r\n            this.spawnStick(event.getLocation());    \r\n        \r\n        } else {\r\n        \r\n            this.stick.getComponent('Stick').rotate();\r\n        }\r\n\r\n        console.log(event);\r\n    },\r\n\r\n    // update (dt) {},\r\n\r\n    spawnStick: function(postion) {\r\n        // 使用给定的模板在场景中生成一个新节点\r\n        this.stick = cc.instantiate(this.stickPrefab);\r\n        // 将新增的节点添加到 Canvas 节点下面\r\n        this.node.addChild(this.stick);\r\n        // 设置一个随机位置\r\n\r\n        postion.x -= this.node.width/2;\r\n        postion.y -= this.node.height/2;\r\n        \r\n        this.stick.setPosition(postion);\r\n    }, \r\n\r\n    spawnFinger: function(postion) {\r\n\r\n        this.finger = cc.instantiate(this.fingerPrefab);\r\n        this.node.addChild(this.finger);\r\n\r\n        postion.x -= this.node.width/2-this.finger.width/2;\r\n        postion.y -= this.node.height/2-this.finger.height/2;\r\n\r\n        this.finger.setPosition(postion);\r\n\r\n        this.finger.getComponent(\"Finger\").moveUp();\r\n    },    \r\n});\r\n"]}