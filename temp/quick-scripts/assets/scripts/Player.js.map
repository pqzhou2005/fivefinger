{"version":3,"sources":["Player.js"],"names":["cc","Class","extends","Component","properties","moveDownDuration","onLoad","start","moveDown","postion","finishAction","callFunc","node","dispatchEvent","Event","EventCustom","runAction","sequence","moveTo","move","animation","getComponent","Animation","animState","play","speed","wrapMode","WrapMode","Loop","repeatCount","Infinity","stop","moveBy","moveAndFail"],"mappings":";;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,0BAAmB;AADX,KAHP;;AAOL;;AAEAC,UATK,oBASK;;AAKN;AACH,KAfI;AAiBLC,SAjBK,mBAiBI,CAER,CAnBI;;;AAqBL;;AAEAC,cAAW,kBAASC,OAAT,EAAkB;AACxB;AACA,YAAIC,eAAeV,GAAGW,QAAH,CAAY,YAAY;AACxC,iBAAKC,IAAL,CAAUC,aAAV,CAAyB,IAAIb,GAAGc,KAAH,CAASC,WAAb,CAAyB,aAAzB,EAAwC,IAAxC,CAAzB;AACH,SAFmB,EAElB,IAFkB,CAAnB;;AAID,aAAKH,IAAL,CAAUI,SAAV,CAAoBhB,GAAGiB,QAAH,CAAY,IAAIjB,GAAGkB,MAAP,CAAc,KAAKb,gBAAnB,EAAqCI,OAArC,CAAZ,EAA0DC,YAA1D,CAApB;AACH,KA9BI;;AAgCLS,UAAO,cAASV,OAAT,EAAkB;;AAErB,YAAIW,YAAY,KAAKC,YAAL,CAAkBrB,GAAGsB,SAArB,CAAhB;AACA,YAAIC,YAAYH,UAAUI,IAAV,CAAe,YAAf,CAAhB;AACA;AACAD,kBAAUE,KAAV,GAAkB,EAAlB;AACAF,kBAAUG,QAAV,GAAqB1B,GAAG2B,QAAH,CAAYC,IAAjC;AACAL,kBAAUM,WAAV,GAAwBC,QAAxB;;AAEA,YAAIpB,eAAeV,GAAGW,QAAH,CAAY,YAAY;;AAEvCY,sBAAUQ,IAAV;AACA,iBAAKnB,IAAL,CAAUC,aAAV,CAAyB,IAAIb,GAAGc,KAAH,CAASC,WAAb,CAAyB,gBAAzB,EAA2C,IAA3C,CAAzB;AAEH,SALkB,EAKjB,IALiB,EAKZQ,SALY,CAAnB;;AAOA,eAAO,KAAKX,IAAL,CAAUI,SAAV,CAAoBhB,GAAGiB,QAAH,CAAY,IAAIjB,GAAGgC,MAAP,CAAc,KAAK3B,gBAAnB,EAAqCI,OAArC,CAAZ,EAA0DC,YAA1D,CAApB,CAAP;AACH,KAjDI;;AAmDLuB,iBAAc,qBAASxB,OAAT,EAAkB;AAC5B;AACA,YAAIC,eAAeV,GAAGW,QAAH,CAAY,YAAY;AACxC,iBAAKC,IAAL,CAAUC,aAAV,CAAyB,IAAIb,GAAGc,KAAH,CAASC,WAAb,CAAyB,UAAzB,EAAqC,IAArC,CAAzB;AACH,SAFmB,EAElB,IAFkB,CAAnB;;AAID,aAAKH,IAAL,CAAUI,SAAV,CAAoBhB,GAAGiB,QAAH,CAAY,IAAIjB,GAAGgC,MAAP,CAAc,KAAK3B,gBAAnB,EAAqCI,OAArC,CAAZ,EAA0DC,YAA1D,CAApB;AACH;;AA1DK,CAAT","file":"Player.js","sourceRoot":"..\\..\\..\\..\\assets\\scripts","sourcesContent":["// Learn cc.Class:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/class.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/class.html\r\n// Learn Attribute:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/life-cycle-callbacks.html\r\n\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        moveDownDuration : 1,\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    onLoad () {\r\n   \r\n              \r\n        \r\n\r\n        // this.node.runAction(cc.rotateBy(0.1,30));\r\n    },\r\n\r\n    start () {\r\n\r\n    },\r\n\r\n    // update (dt) {},\r\n\r\n    moveDown : function(postion) {\r\n         //移动结束\r\n         var finishAction = cc.callFunc(function () {\r\n            this.node.dispatchEvent( new cc.Event.EventCustom('playerReady', true));\r\n        },this);\r\n\r\n        this.node.runAction(cc.sequence(new cc.moveTo(this.moveDownDuration, postion),finishAction));  \r\n    },\r\n\r\n    move : function(postion) {\r\n\r\n        var animation = this.getComponent(cc.Animation);\r\n        var animState = animation.play(\"playermove\");\r\n        // console.log(animState);\r\n        animState.speed = 10;    \r\n        animState.wrapMode = cc.WrapMode.Loop;\r\n        animState.repeatCount = Infinity;\r\n\r\n        var finishAction = cc.callFunc(function () {           \r\n            \r\n            animState.stop();\r\n            this.node.dispatchEvent( new cc.Event.EventCustom('playerMoveOver', true));\r\n\r\n        },this,animState);\r\n\r\n        return this.node.runAction(cc.sequence(new cc.moveBy(this.moveDownDuration, postion),finishAction));\r\n    },  \r\n\r\n    moveAndFail : function(postion) {\r\n        //移动结束\r\n        var finishAction = cc.callFunc(function () {\r\n           this.node.dispatchEvent( new cc.Event.EventCustom('gameOver', true));\r\n       },this);\r\n\r\n       this.node.runAction(cc.sequence(new cc.moveBy(this.moveDownDuration, postion),finishAction));  \r\n   },\r\n    \r\n\r\n});\r\n"]}