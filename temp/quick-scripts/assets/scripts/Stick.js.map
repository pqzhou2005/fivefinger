{"version":3,"sources":["Stick.js"],"names":["cc","Class","extends","Component","properties","stretchEachLength","rotateDuration","onLoad","currentLength","state","start","update","dt","node","height","setScale","stopStretch","rotate","callback","target","runAction","sequence","RotateBy","callFunc","getCurrentLength"],"mappings":";;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;;AAERC,2BAAmB,CAFX;;AAIRC,wBAAgB;;AAJR,KAHP;;AAWL;;AAEAC,UAbK,oBAaK;;AAEN,aAAKC,aAAL,GAAqB,CAArB;AACA;AACA,aAAKC,KAAL,GAAa,CAAb;AACH,KAlBI;AAoBLC,SApBK,mBAoBI,CAER,CAtBI;AAwBLC,UAxBK,kBAwBGC,EAxBH,EAwBO;;AAER,YAAG,KAAKH,KAAL,IAAc,CAAd,IAAmB,KAAKD,aAAL,GAAqB,KAAKK,IAAL,CAAUC,MAArD,EAA6D;;AAEzD,iBAAKN,aAAL,IAAsB,KAAKH,iBAA3B;AACA,iBAAKQ,IAAL,CAAUE,QAAV,CAAmB,KAAKP,aAAL,GAAmB,KAAKK,IAAL,CAAUC,MAAhD;AACH;AACJ,KA/BI;;;AAiCLE,iBAAc,uBAAW;AACrB;AACA,aAAKP,KAAL,GAAa,CAAb;AACH,KApCI;;AAsCLQ,YAAS,gBAASC,QAAT,EAAkBC,MAAlB,EAA0B;;AAE/B,YAAG,KAAKV,KAAL,IAAY,CAAZ,IAAiB,KAAKD,aAAL,IAAsB,EAA1C,EAA8C;AAC1C,iBAAKQ,WAAL;AACA,iBAAKH,IAAL,CAAUO,SAAV,CAAoBpB,GAAGqB,QAAH,CAAY,IAAIrB,GAAGsB,QAAP,CAAgB,KAAKd,aAAL,GAAmB,KAAKF,cAAxB,GAAuC,GAAvD,EAA4D,EAA5D,CAAZ,EAA4EN,GAAGuB,QAAH,CAAYL,QAAZ,EAAqBC,MAArB,CAA5E,CAApB;AACH;AACJ,KA5CI;;AA8CLK,oBA9CK,8BA8Cc;AACf,eAAO,KAAKhB,aAAZ;AACH;AAhDI,CAAT","file":"Stick.js","sourceRoot":"..\\..\\..\\..\\assets\\scripts","sourcesContent":["// Learn cc.Class:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/class.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/class.html\r\n// Learn Attribute:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/life-cycle-callbacks.html\r\n\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n\r\n        stretchEachLength: 7,   \r\n        \r\n        rotateDuration: 0.5,\r\n\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    onLoad () {\r\n\r\n        this.currentLength = 0;\r\n        //伸缩状态\r\n        this.state = 0;   \r\n    },\r\n\r\n    start () {\r\n\r\n    },\r\n\r\n    update (dt) {\r\n\r\n        if(this.state == 0 && this.currentLength < this.node.height) {\r\n\r\n            this.currentLength += this.stretchEachLength;\r\n            this.node.setScale(this.currentLength/this.node.height);\r\n        }      \r\n    }, \r\n\r\n    stopStretch : function() {        \r\n        //停止伸缩\r\n        this.state = 1; \r\n    },    \r\n\r\n    rotate : function(callback,target) {\r\n\r\n        if(this.state==0 && this.currentLength >= 10) {\r\n            this.stopStretch();\r\n            this.node.runAction(cc.sequence(new cc.RotateBy(this.currentLength*this.rotateDuration/100, 90),cc.callFunc(callback,target)));\r\n        }        \r\n    },\r\n\r\n    getCurrentLength() {\r\n        return this.currentLength;\r\n    },    \r\n\r\n});\r\n"]}